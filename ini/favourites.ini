[UserSettings]
username = JohnDoe
email = johndoe@example.com

[AppSettings]
theme = dark

[query]
retrieve_favourites = 
    SELECT
        CONCAT(a.location, ' (',CAST(a.date AS VARCHAR),')') AS trip,
        a.id AS index, a.location, a.date, a.placeid, b.name,
        CAST(b.ratings AS FLOAT) AS ratings,
        b.rating_count, b.search_link, b.photo_reference,
        b.editorial_summary, b.type, c.sortorder
    FROM placesadded a
    LEFT JOIN places b
        ON a.placeid = b.placeid
    LEFT JOIN placesorder c
        ON CONCAT(a.userid, a.location,
            ' (',CAST(a.date AS VARCHAR),')')
            = c.id
    WHERE a.userid = %%s
    ORDER BY a.date DESC, index;
save_fav_order = 
    INSERT INTO placesorder (id, sortorder)
    VALUES (%%s, %%s)
    ON CONFLICT (id) DO UPDATE
    SET sortorder = %%s;
       
